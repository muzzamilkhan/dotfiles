(()=>{var e,t,r,n={16323:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=16323,e.exports=t},83988:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=83988,e.exports=t},13885:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=13885,e.exports=t},87231:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=87231,e.exports=t},3597:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3597,e.exports=t},9767:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9767,e.exports=t},30024:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=30024,e.exports=t},83151:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=83151,e.exports=t},61437:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=61437,e.exports=t},17844:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=17844,e.exports=t},72939:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=72939,e.exports=t},26291:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=26291,e.exports=t},18862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshWorkspace=t.REFRESH_WORKSPACE=void 0;const n=r(72872),o=r(89496);t.REFRESH_WORKSPACE="nxConsole.refreshWorkspace";const a=new n.Subject;a.pipe((0,n.debounceTime)(150)).subscribe((async()=>{const{nxWorkspace:e}=await Promise.resolve().then((()=>r(55441)));await e(!0),o.commands.executeCommand("nxConsole.refreshNxProjectsTree"),o.commands.executeCommand("nxConsole.refreshRunTargetTree"),o.commands.executeCommand("nx.graph.refresh")})),t.refreshWorkspace=function(){return o.commands.registerCommand(t.REFRESH_WORKSPACE,(()=>{a.next(void 0)}))}},98843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=void 0,t.environment={production:!0}},69218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const n=r(57147),o=r(71017),a=r(89496),s=r(49018),i=r(58543),c=r(92159),l=r(45271),d=r(55489),u=r(96479),p=r(77918),f=r(98843),h=r(84703),m=r(57081),g=r(18862),y=r(15424),w=r(51667),v=r(20300),x=r(32414),k=r(84957);let j,P,C,b,_,T,O;async function S(e){if(e.match(/(workspace|angular)\.json$/)&&(e=(0,o.dirname)(e)),c.WorkspaceConfigurationStore.instance.set("nxWorkspacePath",e),process.env.NX_WORKSPACE_ROOT_PATH=e,T)c.WorkspaceConfigurationStore.instance.set("nxWorkspacePath",e);else{T=new s.CliTaskProvider,(0,s.registerNxCommands)(O,T),a.tasks.registerTaskProvider("ng",T),a.tasks.registerTaskProvider("nx",T),(0,s.registerCliTaskCommands)(O,T),_=new p.NxProjectTreeProvider(O,T),P=a.window.createTreeView("nxProjects",{treeDataProvider:_});const e=new u.NxCommandsTreeProvider(O);C=a.window.createTreeView("nxCommands",{treeDataProvider:e}),O.subscriptions.push(C,P)}!async function(e){const{nxWorkspace:t}=await Promise.resolve().then((()=>r(55441))),{workspaceLayout:n}=await t();a.commands.executeCommand("setContext","nxAppsDir",[(0,o.join)(e,n.appsDir)]),a.commands.executeCommand("setContext","nxLibsDir",[(0,o.join)(e,n.libsDir)]);const s=await(0,v.getGenerators)(e);let i=!1,c=!1;s.forEach((e=>{e.data&&("application"===e.data.type?i=!0:"library"===e.data.type&&(c=!0))})),a.commands.executeCommand("setContext","nx.hasApplicationGenerators",i),a.commands.executeCommand("setContext","nx.hasLibraryGenerators",c)}(e);const t=await(0,i.checkIsNxWorkspace)(e),l=(0,n.existsSync)((0,o.join)(e,"angular.json"));a.commands.executeCommand("setContext","isAngularWorkspace",l),a.commands.executeCommand("setContext","isNxWorkspace",t),async function(e,t){const{nxWorkspace:n}=await Promise.resolve().then((()=>r(55441))),{workspaceLayout:s}=await n(),c=new Set;c.add(s.appsDir),c.add(s.libsDir),c.add("packages"),e.subscriptions.push((0,i.watchFile)(new a.RelativePattern(t,"{workspace,angular,nx}.json"),(()=>{a.commands.executeCommand(g.REFRESH_WORKSPACE)})),...Array.from(c).map((e=>(0,i.watchFile)(new a.RelativePattern((0,o.join)(t,e),"**/{project,package}.json"),(()=>{a.commands.executeCommand(g.REFRESH_WORKSPACE)})))))}(O,e),b.refresh(),_.refresh();let d="nx";t&&l?d="angularWithNx":t&&!l?d="nx":!t&&l&&(d="angular"),c.WorkspaceConfigurationStore.instance.set("workspaceType",d),c.WorkspaceConfigurationStore.instance.set("nxVersion",await(0,x.nxVersion)(e)),(0,i.getTelemetry)().record("WorkspaceType",{workspaceType:d})}t.activate=async function(e){try{const t=Date.now();O=e,c.GlobalConfigurationStore.fromContext(O),c.WorkspaceConfigurationStore.fromContext(O),b=new d.RunTargetTreeProvider(O),(0,i.initTelemetry)(c.GlobalConfigurationStore.instance,f.environment.production),j=a.window.createTreeView("nxRunTarget",{treeDataProvider:b});const n=a.commands.registerCommand("nxConsole.revealWebViewPanel",(async(e,t)=>{(0,l.revealWebViewPanel)({runTargetTreeItem:e,context:O,cliTaskProvider:T,runTargetTreeView:j,contextMenuUri:t,generator:e.generator})})),s=a.commands.registerCommand(d.LOCATE_YOUR_WORKSPACE.command?.command||"",(async()=>function(){if(a.workspace.workspaceFolders&&a.workspace.workspaceFolders.length>0)return a.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,openLabel:"Select workspace directory"}).then((e=>{if(e&&e[0])return S(e[0].fsPath)}));a.window.showInformationMessage("Cannot select an Nx workspace when no folders are opened in the explorer")}())),u=a.workspace.workspaceFolders&&a.workspace.workspaceFolders[0].uri.fsPath;u&&await async function(e){let t=e;const{root:r}=(0,o.parse)(e),n=c.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");for(n&&(t=n);t!==r;){if(await(0,w.fileExists)((0,o.join)(t,"angular.json")))return S(t);if(await(0,w.fileExists)((0,o.join)(t,"workspace.json")))return S(t);if(await(0,w.fileExists)((0,o.join)(t,"nx.json")))return S(t);if(await(0,w.fileExists)((0,o.join)(t,"lerna.json")))return S(t);t=(0,o.dirname)(t)}}(u),O.subscriptions.push(j,n,s,(0,g.refreshWorkspace)(),(0,y.projectGraph)(),await(0,k.configureLspClient)(O));const{WorkspaceCodeLensProvider:p}=await Promise.resolve().then((()=>r(55441)));new p(O),m.NxConversion.createInstance(O),await(0,h.enableTypeScriptPlugin)(O),(0,i.getTelemetry)().extensionActivated((Date.now()-t)/1e3)}catch(e){a.window.showErrorMessage("Nx Console encountered an error when activating (see output panel)"),(0,i.getOutputChannel)().appendLine("Nx Console encountered an error when activating"),(0,i.getOutputChannel)().appendLine(e.stack),(0,i.getTelemetry)().exception(e.message)}},t.deactivate=async function(){(0,i.getTelemetry)().extensionDeactivated(),(0,i.teardownTelemetry)()}},20300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(33166),t),n.__exportStar(r(98092),t),n.__exportStar(r(1661),t)},33166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExecutors=void 0;const n=r(1661);t.getExecutors=async function(e,t,r){return(await(0,n.readCollections)(e,{projects:t,clearPackageJsonCache:r})).filter((e=>"executor"===e.type))}},98092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenerators=void 0;const n=r(47812),o=r(93134),a=r(71017),s=r(1661),i=r(51667);async function c(e,t){const r=(0,a.join)("tools",t);return await(0,i.directoryExists)((0,a.join)(e,r))?await async function(e,t,r){const c=(0,a.join)(e,t),l="workspace-"+("generators"===r?"generator":"schematic"),d=(0,a.join)(c,"collection.json");if(await(0,i.fileExists)(d)){const t=await(0,i.readAndCacheJsonFile)(`${c}/collection.json`);return(0,s.getCollectionInfo)(e,l,d,{path:d,json:{}},t.json)}return await Promise.all((0,i.listFiles)(c).filter((e=>"schema.json"===(0,a.basename)(e))).map((async e=>{const t=await(0,i.readAndCacheJsonFile)(e,""),r=t.json.id||t.json.$id,a=t.json["x-type"]??n.GeneratorType.Other;return{name:l,type:"generator",path:c,data:{name:r,collection:l,options:await(0,o.normalizeSchema)(t.json,"nx"),description:t.json.description??"",type:a}}})))}(e,r,t):Promise.resolve([])}t.getGenerators=async function(e,t){const r=e;let n=(await(0,s.readCollections)(e,{projects:t,clearPackageJsonCache:!1})).filter((e=>"generator"===e.type));return n=[...n,...await c(r,"schematics"),...await c(r,"generators")],n.filter((e=>!!e.data))}},1661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCollectionInfo=t.readCollections=void 0;const n=r(32414),o=r(47812),a=r(22037),s=r(71017),i=r(51667);async function c(e,{packagePath:t,packageName:r,packageJson:n}){try{const[o,a]=await Promise.all([(0,i.readAndCacheJsonFile)(n.executors||n.builders,t),(0,i.readAndCacheJsonFile)(n.generators||n.schematics,t)]);return l(e,r,t,o,a)}catch(e){return null}}async function l(e,t,r,o,i){const l=new Map,f=(e,n,o,i)=>{let c=(0,s.resolve)(r,(0,s.dirname)(i),n.schema);return"win32"===(0,a.platform)()&&(c=`file:///${c.replace(/\\/g,"/")}`),{name:`${t}:${e}`,type:o,path:c}},h={...o.json.executors,...o.json.builders};for(const[e,t]of Object.entries(h)){if(!u(e,t))continue;const r=f(e,t,"executor",o.path);l.has(p(r.name,"executor"))||l.set(p(r.name,"executor"),r)}const m={...i.json.generators,...i.json.schematics};for(const[e,r]of Object.entries(m))if(u(e,r))try{const n=f(e,r,"generator",i.path);if(n.data=d(t,e,r),l.has(p(n.name,"generator")))continue;l.set(p(n.name,"generator"),n)}catch(e){}if(i.json.extends&&Array.isArray(i.json.extends)){const t=i.json.extends,r=(await Promise.all(t.filter((e=>"@nrwl/workspace"!==e)).map((async t=>{const r=await(0,n.workspaceDependencyPath)(e,t);return r?c(e,await(0,n.packageDetails)(r)):null})))).flat().filter((e=>Boolean(e)));for(const e of r)l.has(e.name)||l.set(e.name,e)}return Array.from(l.values())}function d(e,t,r){try{let n;switch(r["x-type"]){case"application":n=o.GeneratorType.Application;break;case"library":n=o.GeneratorType.Library;break;default:n=o.GeneratorType.Other}return{name:t,collection:e,description:r.description||"",type:n}}catch(r){console.error(r),console.error(`Invalid package.json for schematic ${e}:${t}`)}}function u(e,t){return!t.hidden&&!t.private&&!t.extends&&"ng-add"!==e}function p(e,t){return`${e}-${t}`}t.readCollections=async function(e,t){t?.clearPackageJsonCache&&(0,i.clearJsonCache)("package.json",e);const r=await(0,n.workspaceDependencies)(e,t.projects),o=await Promise.all(r.map((async e=>await(0,n.packageDetails)(e)))),a=(await Promise.all(o.map((t=>c(e,t))))).flat(),s=new Map;for(const e of a)e&&(s.has(p(e.name,e.type))||s.set(p(e.name,e.type),e));return Array.from(s.values())},t.getCollectionInfo=l},51667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listFiles=t.readAndParseJson=t.clearJsonCache=t.readAndCacheJsonFile=t.cacheJson=t.directoryExists=t.fileExists=void 0;var n=r(99438);Object.defineProperty(t,"fileExists",{enumerable:!0,get:function(){return n.fileExists}});var o=r(20052);Object.defineProperty(t,"directoryExists",{enumerable:!0,get:function(){return o.directoryExists}});var a=r(3202);Object.defineProperty(t,"cacheJson",{enumerable:!0,get:function(){return a.cacheJson}});var s=r(3202);Object.defineProperty(t,"readAndCacheJsonFile",{enumerable:!0,get:function(){return s.readAndCacheJsonFile}});var i=r(3202);Object.defineProperty(t,"clearJsonCache",{enumerable:!0,get:function(){return i.clearJsonCache}});var c=r(3202);Object.defineProperty(t,"readAndParseJson",{enumerable:!0,get:function(){return c.readAndParseJson}});var l=r(39307);Object.defineProperty(t,"listFiles",{enumerable:!0,get:function(){return l.listFiles}})},3202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cacheJson=t.readAndCacheJsonFile=t.clearJsonCache=t.readAndParseJson=t.fileContents=t.files=t.crossFs=void 0;const n=r(71017),o=r(61201),a=r(16541),s=r(79816),i=new o.ZipOpenFS({libzip:a.getLibzipSync});async function c(e){const r=await t.crossFs.readFilePromise(e,"utf8");try{return JSON.parse(r)}catch{const e=[],t=(0,s.parse)(r,e);if(e.length>0)for(const{error:t,offset:r}of e);return t}}t.crossFs=new o.PosixFS(i),t.files={},t.fileContents={},t.readAndParseJson=c,t.clearJsonCache=function(e,r=""){const o=n.join(r,e);return delete t.fileContents[o]},t.readAndCacheJsonFile=async function(e,r=""){if(!e)return{path:"",json:{}};let o=n.join(r,e);o.startsWith("file:\\")&&(o=o.replace("file:\\",""));try{const e=await t.crossFs.statPromise(o);if(t.fileContents[o]||e.isFile())return t.fileContents[o]||(t.fileContents[o]=await c(o)),{path:o,json:t.fileContents[o]}}catch(e){}return{path:o,json:{}}},t.cacheJson=function(e,r="",o){const a=n.join(r,e);return t.fileContents[a]?{json:t.fileContents[a],path:a}:(o&&(t.fileContents[a]=o),{json:o,path:a})}},20052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directoryExists=void 0;const n=r(73292);t.directoryExists=async function(e){try{return(await(0,n.stat)(e)).isDirectory()}catch{return!1}}},99438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileExists=void 0;const n=r(73292);t.fileExists=async function(e){try{return(await(0,n.stat)(e)).isFile()}catch{return!1}}},39307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listFiles=void 0;const n=r(57147),o=r(71017);t.listFiles=function e(t){if(t.indexOf("node_modules")>-1)return[];if(t.indexOf("dist")>-1)return[];const r=[t];try{(0,n.readdirSync)(t).forEach((a=>{const s=o.join(t,a);try{(0,n.statSync)(s).isDirectory()?(0,n.statSync)(s).isDirectory()&&r.push(...e(s)):r.push(s)}catch{}}))}catch{}return r}},32414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(89993),t),n.__exportStar(r(12526),t),n.__exportStar(r(93133),t),n.__exportStar(r(71285),t),n.__exportStar(r(11671),t)},12526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findNxPackagePath=void 0;const n=r(71017),o=r(51667),a=r(89993);t.findNxPackagePath=async function(e,t){const r=e=>(0,n.join)(e,t),s=await(0,a.workspaceDependencyPath)(e,"nx");if(s){const e=r(s);if(await(0,o.fileExists)(e))return e}const i=await(0,a.workspaceDependencyPath)(e,"@nrwl/workspace");if(i){const e=r(i);if(await(0,o.fileExists)(e))return e}}},93133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngVersion=void 0;const n=r(89993);let o,a=!1;t.ngVersion=async function(e){if(!a){const t=await(0,n.workspaceDependencyPath)(e,"@angular/cli");if(!t)return 0;o=require(t+"/package.json"),a=!0}if(!o)return 0;const t=o.version.split(".")[0];return t?+t:0}},80890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.npmDependencies=void 0;const n=r(73292),o=r(71017);t.npmDependencies=async function(e){const t=(0,o.join)(e,"node_modules"),r=[];if(!(await(0,n.stat)(t)).isDirectory())return r;const a=await(0,n.readdir)(t);for(const e of a)e.startsWith(".")||(await(0,n.stat)((0,o.join)(t,e))).isDirectory()&&(e.startsWith("@")?(await(0,n.readdir)((0,o.join)(t,e))).forEach((n=>{r.push(`${t}/${e}/${n}`)})):r.push(`${t}/${e}`));return r}},71285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nxVersion=void 0;const n=r(12526);let o,a=!1;t.nxVersion=async function(e){if(!a){const t=await(0,n.findNxPackagePath)(e,"package.json");if(!t)return 0;o=require(t),a=!0}if(!o)return 0;const t=o.version.split(".")[0];return t?+t:0}},11671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packageDetails=void 0;const n=r(51667),o=r(71017);t.packageDetails=async function(e){const{json:t}=await(0,n.readAndCacheJsonFile)((0,o.join)(e,"package.json"));return{packagePath:e,packageName:t.name,packageJson:t}}},14597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pnpDependencyPath=t.pnpDependencies=t.isWorkspaceInPnp=void 0;const n=r(71017),o=r(51667);let a;async function s(e){const t=[".cjs",".js"];for(const r of t)try{const t=`.pnp${r}`,a=(0,n.join)(e,t);if(await(0,o.fileExists)(a))return a}catch{return}}async function i(e){const t=await s(e);if(t){if(!a){const e=require(t);e.setup(),a=e}return a}}async function c(e,t){try{const r=await i(e);if(!r)return;let n=r.resolveToUnqualified(t,e+"/")??"";return n.includes("__virtual__")&&(n=r.resolveVirtual?.(n)??""),n}catch{return}}t.isWorkspaceInPnp=async function(e){try{return!!await s(e)}catch{return!1}},t.pnpDependencies=async function(e){const t=await i(e);if(!t)return[];t.resolveRequest;const r=[];for(const n of t.getDependencyTreeRoots()){const o=t.getPackageInformation(n);if(o?.packageDependencies)for(const[t,n]of o?.packageDependencies??{}){if(null===n)continue;if(!Array.isArray(n)&&n.startsWith("workspace:"))continue;const o=await c(e,t);o&&r.push(o)}}return r},t.pnpDependencyPath=c},89993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localDependencyPath=t.workspaceDependencyPath=t.workspaceDependencies=void 0;const n=r(73292),o=r(71017),a=r(80890),s=r(14597),i=r(51667),c=r(71285),l=r(11671);t.workspaceDependencies=async function(e,t){const r=[];return r.push(...await async function(e,t){if(!t)return[];if(await(0,c.nxVersion)(e)<13)return[];const r=Object.values(t).map((t=>`${e}/${t.root}/package.json`)),o=[];for(const e of r)try{(await(0,n.stat)(e)).isFile()&&o.push(e.replace("/package.json",""))}catch{}return o}(e,t)),await(0,s.isWorkspaceInPnp)(e)&&r.push(...await(0,s.pnpDependencies)(e)),r.push(...await(0,a.npmDependencies)(e)),r},t.workspaceDependencyPath=async function(e,t){if(t.startsWith("."))return(0,o.join)(e,t);if(await(0,s.isWorkspaceInPnp)(e))return(0,s.pnpDependencyPath)(e,t);const r=(0,o.join)(e,"node_modules",t);try{return await(0,i.directoryExists)(r)?r:void 0}catch{return}},t.localDependencyPath=async function(e,t,r){for(const n of Object.values(r)){const r=(0,o.join)(e,n.root),a=await(0,l.packageDetails)(r);if(a.packageName===t)return a.packagePath}}},47812:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.WORKSPACE_GENERATOR_NAME_REGEX=t.GeneratorType=t.OptionType=void 0,(n=t.OptionType||(t.OptionType={})).Any="any",n.Array="array",n.Boolean="boolean",n.Number="number",n.String="string",(r=t.GeneratorType||(t.GeneratorType={})).Application="application",r.Library="library",r.Other="other",t.WORKSPACE_GENERATOR_NAME_REGEX=/^workspace-(schematic|generator):(.+)/},93134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSchema=void 0;const n=r(14560),o=["name","project","module","watch","style","directory","port"],a=new Set(o);function s(e,t,r,n){return e.has(t.name)||!!r&&!t.default&&!n&&"boolean"!==t.type}function i(e){return e.items&&{items:e.items.enum||e.items.length&&e.items}}function c(e){return void 0!==e.message}function l(e){return void 0!==e.value||void 0!==e.label}t.normalizeSchema=async function(e,t,r){const d=(u=e,p={hyphenate:"ng"===t},Object.keys(u.properties||{}).reduce(((e,t)=>{const r=u.properties[t],o=r.$default,a="argv"===o?.$source?o.index:void 0,s="number"==typeof a?a:void 0;if(!function(e,t){return!!["path"].includes(e)||("hidden"in t?!t.hidden:t.visible??!0)}(t,r))return e;const i=p?.hyphenate?(0,n.names)(t).fileName:t;return e.push({name:i,originalName:t,positional:s,...r}),e}),[]));var u,p;const f=new Set(e.required||[]);return d.map((e=>{const t=e["x-prompt"],n=r?.[e.originalName??e.name],o=e.$default,a={...e,isRequired:s(f,e,t,o),aliases:e.alias?[e.alias]:[],...void 0!==n&&{default:n},...o&&{$default:o},...e.enum&&{items:e.enum.map((e=>e.toString()))},...i(e)};if(t&&(a.tooltip=c(t)?t.message:t,a.itemTooltips=function(e){const t={};return e&&c(e)&&(e.items||[]).forEach((e=>{l(e)&&e.label&&(t[e.value]=e.label)})),t}(t),c(t)&&!a.items)){const e=(t.items||[]).map((e=>l(e)?e.value:e));e.length>0&&(a.items=e)}return a})).sort(((e,t)=>"number"==typeof e.positional&&"number"==typeof t.positional?e.positional-t.positional:"number"==typeof e.positional?-1:"number"==typeof t.positional?1:e.isRequired?t.isRequired?e.name.localeCompare(t.name):-1:t.isRequired?1:a.has(e.name)?a.has(t.name)?o.indexOf(e.name)-o.indexOf(t.name):-1:a.has(t.name)?1:e.name.localeCompare(t.name)))}},84703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(12556),t)},12556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableTypeScriptPlugin=void 0;const n=r(58543),o=r(92159),a=r(71017),s=r(89496),i=r(51667),c="tsconfig.base.json";async function l(e,t){if(o.GlobalConfigurationStore.instance.get("enableLibraryImports")){const r=await async function(e){let t=(await(0,i.readAndCacheJsonFile)(c,e)).json;if(!("compilerOptions"in t)&&(t=(await(0,i.readAndCacheJsonFile)("tsconfig.json",e)).json,!("compilerOptions"in t)))return[];const r=t.compilerOptions.paths??{},o=[];for(const[,t]of Object.entries(r)){const r=(0,a.join)(e,t[0]),s=await(0,n.findConfig)(r,"tsconfig.lib.json");if(!s)continue;const i=(0,a.dirname)(s);o.push({mainFile:r,directory:i})}return o}(e);t.configurePlugin("@monodon/typescript-nx-imports-plugin",{externalFiles:r})}}t.enableTypeScriptPlugin=async function(e){const t=s.extensions.getExtension("vscode.typescript-language-features");if(!t)return;if(await t.activate(),!t.exports||!t.exports.getAPI)return;const r=t.exports.getAPI(0);if(!r)return;const a=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");s.workspace.onDidOpenTextDocument((e=>{(e.uri.fsPath.endsWith(".ts")||e.uri.fsPath.endsWith(".tsx"))&&l(a,r)}),void 0,e.subscriptions),(0,n.watchFile)(`${a}/tsconfig.base.json`,(()=>{(0,i.clearJsonCache)(c,a),l(a,r)}),e.subscriptions),s.workspace.onDidChangeTextDocument((({document:e})=>{e.uri.fsPath.endsWith(c)&&l(a,r)}),void 0,e.subscriptions),s.workspace.onDidChangeConfiguration((async e=>{const t=e.affectsConfiguration(o.GlobalConfigurationStore.configurationSection);o.GlobalConfigurationStore.instance.get("enableLibraryImports")||(s.window.setStatusBarMessage("Restarting the TypeScript Server",5e3),await s.commands.executeCommand("typescript.restartTsServer")),t&&l(a,r)}),void 0,e.subscriptions),l(a,r)}},58543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsNxWorkspace=t.getShellExecutionForConfig=t.findConfig=t.buildProjectPath=t.watchFile=t.toWorkspaceFormat=void 0;const n=r(70655);n.__exportStar(r(63165),t),n.__exportStar(r(38378),t),n.__exportStar(r(47242),t),n.__exportStar(r(71706),t);var o=r(84297);Object.defineProperty(t,"toWorkspaceFormat",{enumerable:!0,get:function(){return o.toWorkspaceFormat}});var a=r(166);Object.defineProperty(t,"watchFile",{enumerable:!0,get:function(){return a.watchFile}});var s=r(39727);Object.defineProperty(t,"buildProjectPath",{enumerable:!0,get:function(){return s.buildProjectPath}});var i=r(33848);Object.defineProperty(t,"findConfig",{enumerable:!0,get:function(){return i.findConfig}});var c=r(42956);Object.defineProperty(t,"getShellExecutionForConfig",{enumerable:!0,get:function(){return c.getShellExecutionForConfig}});var l=r(53942);Object.defineProperty(t,"checkIsNxWorkspace",{enumerable:!0,get:function(){return l.checkIsNxWorkspace}})},63165:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTreeProvider=void 0;const n=r(89496);t.AbstractTreeProvider=class{constructor(){this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){this._onDidChangeTreeData.fire(void 0)}getTreeItem(e){return e}}},53942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsNxWorkspace=void 0;const n=r(71017),o=r(51667);t.checkIsNxWorkspace=async function(e){let t=await(0,o.fileExists)((0,n.join)(e,"nx.json"));return t||(t=(await(0,o.readAndCacheJsonFile)("lerna.json",e)).json.useNx??!1),t}},38378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(83766),t),n.__exportStar(r(96729),t)},96729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teardownTelemetry=t.initTelemetry=t.getTelemetry=void 0;const n=r(83766),o=r(89496);let a,s=null;t.getTelemetry=function(){return a};t.initTelemetry=function(e,t){return a=t?n.Telemetry.withGoogleAnalytics(e,"vscode"):n.Telemetry.withLogger(e),e.get("shownTelemetryPrompt")||(o.window.showInformationMessage("Help improve Nx Console by allowing us to collect data. To opt-out set nxConsole.enableTelemetry to false in settings."),e.set("shownTelemetryPrompt",!0)),s=o.workspace.onDidChangeConfiguration((t=>{t.affectsConfiguration("nxConsole.enableTelemetry")&&(e.get("enableTelemetry")?a.startedTracking():a.stoppedTracking())})),a},t.teardownTelemetry=function(){s&&s.dispose()}},13231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalyticsSink=void 0;class n{constructor(e,t){this.type=e,this.data=t}fetch(e){return this.require(e),this.data[e]}require(e){const t=`Telemetry: ${this.type} is missing ${e}`;if(!this.data.hasOwnProperty(e))throw new Error(t)}}t.GoogleAnalyticsSink=class{constructor(e,t){this.user=e,this.platform=t,this.visitor=r(40387)("UA-88380372-8",{uid:this.user.id}),this.setPersistentParams()}get enabled(){return"untracked"!==this.user.state}setPersistentParams(){this.visitor.set("uid",this.user.id),this.visitor.set("ds","app"),this.visitor.set("cd1",this.user.state),this.visitor.set("cd2",this.platform),this.visitor.set("cd3",2)}record(e,t){if(!this.enabled)return;const r=new n(e,t);switch(e){case"UserStateChanged":this.user.state=r.fetch("state"),this.setPersistentParams();break;case"ExtensionActivated":this.extensionActivated(r.fetch("time"));break;case"ExtensionDeactivated":this.extensionDeactivated();break;case"StartedTracking":this.startedTracking();break;case"StoppedTracking":this.stoppedTracking();break;case"ScreenViewed":this.screenViewed(r.fetch("screen"));break;case"CommandRun":this.commandRun(r.fetch("commandType"),r.fetch("time"));break;case"ExceptionOccurred":this.exception(r.fetch("error"));break;case"FeatureUsed":this.featureUsed(r.fetch("feature"));break;case"WorkspaceType":this.workspaceType(r.fetch("workspaceType"));break;default:throw new Error(`Unknown Telemetry type: ${e}`)}}extensionActivated(e){this.visitor.event({ec:"Application",ea:"Activated"}).timing({utc:"Application",utv:"Activation Time",utt:e}).send()}extensionDeactivated(){this.visitor.event({ec:"Application",ea:"Deactivated"}).send()}startedTracking(){this.visitor.event({ec:"Data Collection",ea:"Opt In"}).send()}stoppedTracking(){this.visitor.event({ec:"Data Collection",ea:"Opt Out"}).send()}screenViewed(e){this.visitor.screenview({an:"Nx Console",cd:e}).send()}commandRun(e,t){this.visitor.timing({utc:"Command",utv:e,utt:t}).send()}exception(e){this.visitor.exception({exd:e}).send()}featureUsed(e){this.visitor.event({ec:"Feature",ea:e}).send()}workspaceType(e){this.visitor.event({ec:"WorkspaceType",ea:e,ev:1}).send()}}},55528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(71518),t),n.__exportStar(r(32193),t),n.__exportStar(r(13231),t)},32193:(e,t)=>{"use strict";function r(e){return`[Telemetry ${e}]`}Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerSink=t.header=void 0,t.header=r,t.LoggerSink=class{constructor(e=console){this.writer=e}record(e,t){this.writer.log(r(e),t)}}},71518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemorySink=void 0,t.MemorySink=class{constructor(){this.records=[]}record(e,t){this.records.push({type:e,data:t})}recordsByType(e){return this.records.filter((t=>t.type===e))}oneRecord(e){const t=e?this.recordsByType(e):this.records;if(1!==t.length)throw new Error(`Expected one record, have ${t.length}`);return t[0]}hasRecord(e){return(e?this.recordsByType(e):this.records).length>0}}},83766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Telemetry=void 0;const n=r(55528),o=r(79385);class a{constructor(e){this.user=e,this.sinks=[],this.state=this.user.state}static withGoogleAnalytics(e,t){const r=o.User.fromStorage(e),s=new a(r),i=new n.GoogleAnalyticsSink(r,t);return s.addSink(i),s}static withLogger(e){const t=o.User.fromStorage(e),r=new a(t),s=new n.LoggerSink;return r.addSink(s),r}addSink(e){this.sinks.push(e)}record(e,t={}){this.sinks.forEach((r=>r.record(e,t)))}extensionActivated(e){this.record("ExtensionActivated",{time:e})}extensionDeactivated(){this.record("ExtensionDeactivated")}startedTracking(){this.user.tracked(),this.userStateChanged(),this.record("StartedTracking")}stoppedTracking(){this.record("StoppedTracking"),this.user.untracked(),this.userStateChanged()}userStateChanged(){this.state!==this.user.state&&(this.state=this.user.state,this.record("UserStateChanged",{state:this.user.state}))}screenViewed(e){this.record("ScreenViewed",{screen:e})}commandRun(e,t){this.record("CommandRun",{commandType:e,time:t})}exception(e){this.record("ExceptionOccurred",{error:e})}featureUsed(e){this.record("FeatureUsed",{feature:e})}}t.Telemetry=a},79385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;class n{constructor(e,t="tracked"){this.id=e,this.state=t}static fromStorage(e){let t=e.get("uuid"),o="tracked";return t||(t=r(57731).v4(),e.set("uuid",t)),e.get("enableTelemetry",!0)||(o="untracked"),new n(t,o)}tracked(){this.state="tracked"}untracked(){this.state="untracked"}isTracked(){return"tracked"===this.state}isUntracked(){return"untracked"===this.state}}t.User=n},39727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildProjectPath=void 0;const n=r(71017),o=r(51667);t.buildProjectPath=async function(e,t){const r=(0,n.join)(e,t),a=(0,n.join)(r,"project.json"),s=(0,n.join)(r,"package.json");return await(0,o.fileExists)(a)?a:await(0,o.fileExists)(s)?s:void 0}},33848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findConfig=t.forEachAncestorDirectory=void 0;const n=r(71017),o=r(89496);async function a(e,t){for(;;){const r=await t(e);if(void 0!==r)return r;const o=(0,n.dirname)(e);if(o===e)return;e=o}}t.forEachAncestorDirectory=a,t.findConfig=async function(e,t){return a(e,(async e=>{const r=(0,n.join)(e,t);try{return await o.workspace.fs.stat(o.Uri.file(r)),r}catch(e){return}}))}},47242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutputChannel=void 0;const n=r(89496);let o;t.getOutputChannel=function(){return o||(o=n.window.createOutputChannel("Nx Console")),o}},71706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBuilderSchema=t.readTargets=t.readTargetDef=void 0;const n=r(71017),o=r(84297),a=r(38378),s=r(47242),i=r(32414),c=r(51667),l=r(93134);function d(e,t,r){return{options:[],configurations:t.configurations?Object.keys(t.configurations).map((e=>({name:e,defaultValues:u(t.configurations,e)}))):[],name:e,project:r,description:t.description??"",builder:t.executor}}function u(e,t){const r=[],n=e[t];return n?Object.keys(n).reduce(((e,t)=>[...e,{name:t,defaultValue:(0,o.getPrimitiveValue)(n[t])}]),r):r}t.readTargetDef=d,t.readTargets=function(e,t){return t?Object.entries(t).map((([t,r])=>d(t,r,e))):[]},t.readBuilderSchema=async function(e,t,r,o,d){try{const[a,s]=t.split(":");let u=await(0,i.workspaceDependencyPath)(e,a);if(u||(u=await(0,i.localDependencyPath)(e,a,o)),!u)return;const p=await(0,c.readAndCacheJsonFile)(n.join(u,"package.json")),f=p.json.builders||p.json.executors,h=f.startsWith(".")?f:`./${f}`,m=await(0,c.readAndCacheJsonFile)(h,n.dirname(p.path)),g={...m.json.builders,...m.json.executors}[s],y=await(0,c.readAndCacheJsonFile)(g.schema,n.dirname(m.path));return await(0,l.normalizeSchema)(y.json,r,d)}catch(e){const t=e.toString?e.toString():JSON.stringify(e);(0,s.getOutputChannel)().appendLine(t),(0,a.getTelemetry)().exception(t)}}},42956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShellExecutionForConfig=void 0;const n=r(14560),o=r(89496);t.getShellExecutionForConfig=function(e){const t=(0,n.detectPackageManager)(e.cwd),r=(0,n.getPackageManagerCommand)(t);return new o.ShellExecution(`${r.exec} ${e.displayCommand}`,{cwd:e.cwd})}},84297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toWorkspaceFormat=t.getPrimitiveValue=void 0;const n=r(63948);t.getPrimitiveValue=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e.toString():void 0},t.toWorkspaceFormat=function(e){const t=(0,n.toNewFormat)(e),r=Object.entries(t.projects||{}).sort(((e,t)=>e[0].localeCompare(t[0])));return t.projects=Object.fromEntries(r),t}},166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchFile=void 0;const n=r(89496);t.watchFile=function(e,t,r){const o=n.workspace.createFileSystemWatcher(e);return o.onDidChange(t,r),o}},92159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceConfigKeys=t.GlobalConfigKeys=void 0;const n=r(70655);n.__exportStar(r(69527),t),n.__exportStar(r(63800),t);var o=r(71597);Object.defineProperty(t,"GlobalConfigKeys",{enumerable:!0,get:function(){return o.GlobalConfigKeys}}),Object.defineProperty(t,"WorkspaceConfigKeys",{enumerable:!0,get:function(){return o.WorkspaceConfigKeys}})},71597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKSPACE_CONFIG_KEYS=t.GLOBAL_CONFIG_KEYS=void 0,t.GLOBAL_CONFIG_KEYS=["enableTelemetry","enableGenerateFromContextMenu","enableWorkspaceConfigCodeLens","enableLibraryImports","enableGeneratorFilters","generatorAllowlist","generatorBlocklist"],t.WORKSPACE_CONFIG_KEYS=["nxWorkspacePath","nxConversionCount","nxConversionDoNotAskAgain","workspaceType","nxVersion"]},69527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConfigurationStore=void 0;const n=r(89496),o=r(71597);let a;class s{constructor(e){this.state=e}static fromContext(e){return a=new s(e.globalState),a}static get instance(){if(!a)throw Error("Please create a configuration store with `fromContext` first");return a}get(e,t){const r=this.storage(e).get(e,t);return void 0===r?t||null:r}set(e,t){this.storage(e).update(e,t)}delete(e){this.storage(e).update(e,void 0)}storage(e){return function(e){return o.GLOBAL_CONFIG_KEYS.includes(e)}(e)?this.config:this.state}get config(){return n.workspace.getConfiguration(s.configurationSection)}}t.GlobalConfigurationStore=s,s.configurationSection="nxConsole"},63800:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceConfigurationStore=void 0;class n{constructor(e){this.state=e}static fromContext(e){return r=new n(e.workspaceState),r}static get instance(){if(!r)throw Error("Please create a configuration store with `fromContext` first");return r}delete(e){this.state.update(e,void 0)}get(e,t){const r=this.state.get(e,t);return void 0===r?t:r}set(e,t){this.state.update(e,t)}}t.WorkspaceConfigurationStore=n},84957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(83901),t)},83901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureLspClient=void 0;const n=r(55441),o=r(71017),a=r(52847);let s;t.configureLspClient=async function(e){const{workspacePath:t,workspace:r}=await(0,n.nxWorkspace)(),i=e.asAbsolutePath((0,o.join)("nxls","main.js")),c={run:{module:i,transport:a.TransportKind.ipc},debug:{module:i,transport:a.TransportKind.ipc,options:{execArgv:["--nolazy","--inspect=6009"]}}},l={initializationOptions:{workspacePath:t,projects:r.projects},documentSelector:[{scheme:"file",language:"json",pattern:"**/nx.json"},{scheme:"file",language:"json",pattern:"**/project.json"},{scheme:"file",language:"json",pattern:"**/workspace.json"}],synchronize:{}};return s=new a.LanguageClient("NxConsoleClient","Nx Console Client",c,l),s.start(),{dispose(){if(s)return s.stop()}}}},96479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(11867),t),n.__exportStar(r(4583),t)},4583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxCommandsTreeProvider=void 0;const n=r(58543),o=r(11867);class a extends n.AbstractTreeProvider{constructor(e){super(),this.context=e}getParent(e){return null}getChildren(){return["run-many","affected","affected:apps","affected:build","affected:e2e","affected:libs","affected:lint","affected:test","list","migrate"].map((e=>new o.NxCommandsTreeItem(e,this.context.extensionPath)))}}t.NxCommandsTreeProvider=a},11867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxCommandsTreeItem=void 0;const n=r(89496),o=r(71017);class a extends n.TreeItem{constructor(e,t){super(e,n.TreeItemCollapsibleState.None),this.affectedCommand=e,this.extensionPath=t,this.command={title:this.affectedCommand,command:`nx.${this.affectedCommand.replace(":",".")}`,tooltip:`Run nx ${this.affectedCommand}`},this.iconPath={light:n.Uri.file((0,o.join)(this.extensionPath,"assets","nx-cli-light.svg")),dark:n.Uri.file((0,o.join)(this.extensionPath,"assets","nx-cli-dark.svg"))}}}t.NxCommandsTreeItem=a},57081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(10674),t)},10674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxConversion=void 0;const n=r(58543),o=r(92159),a=r(72872),s=r(14857),i=r(89496);class c{constructor(e){this._context=e,this._listener=new a.Subject;const t=o.WorkspaceConfigurationStore.instance.get("nxConversionCount",0),r=e.extensionMode===i.ExtensionMode.Development?1:5;this._listener.pipe(function(e,t,r){const n=!o.WorkspaceConfigurationStore.instance.get("nxConversionDoNotAskAgain",!1)||r.extensionMode===i.ExtensionMode.Development;return(0,a.pipe)((0,s.scan)((e=>e+1),e),(0,s.tap)((e=>{o.WorkspaceConfigurationStore.instance.set("nxConversionCount",e)})),(0,s.filter)((e=>e%t==0)),(0,s.filter)((()=>n&&"angular"===o.WorkspaceConfigurationStore.instance.get("workspaceType",""))))}(t,r,e)).subscribe((async e=>{l(e)}))}static get instance(){if(!c._instance)throw"NxConversion not created yet, please create an instance first with `NxConversion.createInstance(context)`";return c._instance}static set instance(e){c._instance?console.warn("NxConversion already created, are you sure you want to create another instance?"):i.commands.registerCommand("nxConsole.makeNgFaster",l),c._instance=e}static createInstance(e){return c.instance=new c(e),c.instance}async trackEvent(e){this._listener.next(e)}}async function l(e=0){(0,n.getTelemetry)().screenViewed("Convert to Nx");const t=["Yes","No"];e>=10&&t.push("Don't ask again");const r=await i.window.showInformationMessage("Would you like to make ng commands faster by adding computation caching? [Learn more here](https://nx.dev/migration/migration-angular?utm_source=vscode-nx-conversion&utm_medium=prompt&utm_campaign=vscode-nx-conversioni#from-nx-console)",...t);void 0!==r&&("Yes"===r?((0,n.getTelemetry)().screenViewed("Convert to Nx - Yes"),(0,n.getTelemetry)().featureUsed("makeNgFaster"),i.tasks.executeTask(function(){const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),t="make-angular-cli-faster";return new i.Task({type:"nx"},i.TaskScope.Workspace,t,"nx",(0,n.getShellExecutionForConfig)({cwd:e,displayCommand:t}))}())):"No"===r?((0,n.getTelemetry)().screenViewed("Convert to Nx - No "),(0,n.getTelemetry)().featureUsed("do-not makeNgFaster")):(o.WorkspaceConfigurationStore.instance.set("nxConversionDoNotAskAgain",!0),(0,n.getTelemetry)().featureUsed("do-not-ask-again makeNgFaster"),i.window.showInformationMessage("If you change your mind, you can run the `make ng faster with Nx` command through the command palette.")))}t.NxConversion=c},77918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(10044),t),n.__exportStar(r(10465),t)},10465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxProjectTreeItem=void 0;const n=r(89496);class o extends n.TreeItem{constructor(e,t,r){super(t,r),this.nxProject=e}}t.NxProjectTreeItem=o},10044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxProjectTreeProvider=void 0;const n=r(58543),o=r(55441),a=r(71017),s=r(89496),i=r(10465);class c extends n.AbstractTreeProvider{constructor(e,t){super(),this.cliTaskProvider=t,[["editWorkspaceJson",this.editWorkspaceJson],["revealInExplorer",this.revealInExplorer],["runTask",this.runTask],["refreshNxProjectsTree",this.refreshNxProjectsTree]].forEach((([t,r])=>{e.subscriptions.push(s.commands.registerCommand(`nxConsole.${t}`,r,this))}))}async getParent(e){const{project:t,target:r,root:n}=e.nxProject;return r?r.configuration?this.createNxProjectTreeItem({project:t,target:{name:r.name},root:n},r.name):this.createNxProjectTreeItem({project:t,root:n},t):null}async createNxProjectTreeItem(e,t,r){const o=new i.NxProjectTreeItem(e,t,r?s.TreeItemCollapsibleState.Collapsed:s.TreeItemCollapsibleState.None);if(e.target)o.contextValue="task";else{const t=(await this.cliTaskProvider.getProjects())[e.project];t&&(void 0===t.root&&(0,n.getOutputChannel)().appendLine(`Project ${e.project} has no root. This could be because of an error loading the workspace configuration.`),o.resourceUri=s.Uri.file((0,a.join)(this.cliTaskProvider.getWorkspacePath(),t.root??""))),o.contextValue="project"}return o}async getChildren(e){if(!e){const e=await this.cliTaskProvider.getProjectEntries();return Promise.all(e.map((async([e,t])=>this.createNxProjectTreeItem({project:e,root:t.root},e,Boolean(t.targets)))))}const{nxProject:t}=e,{target:r,project:n}=t,o=(await this.cliTaskProvider.getProjects())[n];if(o){if(r){const{configuration:e}=r;if(e||!o.targets)return;const t=o.targets?o.targets[r.name].configurations:void 0;if(!t)return;return Promise.all(Object.keys(t).map((async e=>this.createNxProjectTreeItem({target:{...r,configuration:e},project:n,root:o.root},e))))}return o.targets?Promise.all(Object.keys(o.targets).map((async e=>this.createNxProjectTreeItem({target:{name:e},project:n,root:o.root},e,Boolean(o.targets?.[e].configurations))))):void 0}}async runTask(e){const{target:t,project:r}=e.nxProject;if(!t)return;const n=[];t.configuration&&n.push(`--configuration=${t.configuration}`),this.cliTaskProvider.executeTask({command:t.name,positional:r,flags:n})}async revealInExplorer(e){e.resourceUri&&s.commands.executeCommand("revealInExplorer",e.resourceUri)}async editWorkspaceJson(e){return(0,o.revealNxProject)(e.nxProject.project,e.nxProject.root,e.nxProject.target)}async refreshNxProjectsTree(){this.refresh()}}t.NxProjectTreeProvider=c},55489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(47162),t),n.__exportStar(r(68407),t)},47162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTargetTreeItem=t.commandList=void 0;const n=r(55441),o=r(71017),a=r(89496);t.commandList=async()=>["generate","run",...await async function(){const{workspace:e}=await(0,n.nxWorkspace)(),t=Object.values(e.projects).reduce(((e,t)=>{for(const r of Object.keys(t.targets??{}))e.add(r);return e}),new Set);return Array.from(t)}()];class s extends a.TreeItem{constructor(e,t,r,n,o){super(t,a.TreeItemCollapsibleState.None),this.configurationFilePath=e,this.route=t,this.extensionPath=r,this.generatorType=n,this.generator=o,this.command={title:this.route,command:"nxConsole.revealWebViewPanel",tooltip:"",arguments:[this]},this.iconPath=s.getIconUriForRoute(this.extensionPath)}revealWorkspaceRoute(e){(e.visible?e.reveal(this,{select:!0,focus:!0}):Promise.reject()).then((()=>{}),(()=>{}))}static getIconUriForRoute(e){return{light:a.Uri.file((0,o.join)(e,"assets","nx-cli-light.svg")),dark:a.Uri.file((0,o.join)(e,"assets","nx-cli-dark.svg"))}}}t.RunTargetTreeItem=s},68407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTargetTreeProvider=t.CHANGE_WORKSPACE=t.LOCATE_YOUR_WORKSPACE=void 0;const n=r(58543),o=r(92159),a=r(71017),s=r(89496),i=r(47162),c=new s.TreeItem("Scanning for your Nx Workspace...");t.LOCATE_YOUR_WORKSPACE=new s.TreeItem("Select workspace"),t.LOCATE_YOUR_WORKSPACE.command={tooltip:"Select an workspace directory to open",title:"Select workspace",command:"nxConsole.selectWorkspaceManually"},t.CHANGE_WORKSPACE=new s.TreeItem("Change workspace"),t.CHANGE_WORKSPACE.command={tooltip:"Select an workspace json file to open",title:"Change workspace",command:"nxConsole.selectWorkspaceManually"};class l extends n.AbstractTreeProvider{constructor(e){super(),this.context=e,this.scanning=Boolean(o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")),this.refreshRunTargetTree=async()=>{this.refresh()};const r=e.extensionPath;this.extensionPath=r,t.LOCATE_YOUR_WORKSPACE.iconPath={light:(0,a.join)(r,"assets","nx-console-light.svg"),dark:(0,a.join)(r,"assets","nx-console-dark.svg")},t.CHANGE_WORKSPACE.iconPath={light:(0,a.join)(r,"assets","nx-console-light.svg"),dark:(0,a.join)(r,"assets","nx-console-dark.svg")},e.subscriptions.push(s.commands.registerCommand("nxConsole.refreshRunTargetTree",this.refreshRunTargetTree))}getParent(){return null}endScan(){this.scanning=!1,this.refresh()}async getChildren(){const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");return e?(t.CHANGE_WORKSPACE.description="Current: "+e,[...(await(0,i.commandList)()).map((t=>new i.RunTargetTreeItem(e,t,this.extensionPath))),t.CHANGE_WORKSPACE]):this.scanning?[c]:[t.LOCATE_YOUR_WORKSPACE]}}t.RunTargetTreeProvider=l},55441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(73014),t),n.__exportStar(r(71427),t),n.__exportStar(r(64186),t),n.__exportStar(r(98313),t),n.__exportStar(r(4317),t)},4317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findProjectWithPath=void 0;const n=r(92159),o=r(71017),a=r(98313);t.findProjectWithPath=async function(e){if(!e)return null;const t=n.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),{workspace:r}=await(0,a.nxWorkspace)(),s=Object.entries(r.projects).find((([,r])=>{const n=(0,o.join)(t,r.root||r.sourceRoot||"");if(n===e)return!0;const a=(0,o.relative)(n,e);return a&&!a.startsWith("..")&&!(0,o.isAbsolute)(a)}));return s?{name:s[0],...s[1]}:null}},73014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectLocations=void 0;const n=r(55423);function o(e){return(0,n.isObjectLiteralExpression)(e)?e.properties:(0,n.isPropertyAssignment)(e)?o(e.initializer):void 0}function a(e){if((0,n.isPropertyAssignment)(e)&&(0,n.isStringLiteral)(e.name))return e.name.text}function s(e,t,r){const n=o(e)?.find((e=>{const r=a(e);return t.some((e=>r===e))}));if(n)return o(n)?.reduce(((e,t)=>{const n=a(t);if(!n)return e;e[n]={position:t.getStart(r)};const o=s(t,["configurations"],r);return o&&(e[n].configurations=o),e}),{})}t.getProjectLocations=function(e,t=""){const r={},i=(0,n.parseJsonText)("workspace.json",e.getText()),c=i.statements[0],l=o(c.expression)?.find((e=>"projects"===a(e)));return l?o(l.initializer)?.forEach((e=>{const t=a(e);var o;t&&e&&(o=e,(0,n.isPropertyAssignment)(o)&&(0,n.isStringLiteral)(o.initializer)?r[t]={position:e.getStart(i),projectPath:e.initializer.getText(i).replace(/"/g,"")}:r[t]={position:e.getStart(i),targets:s(e,["architect","targets"],i)??{}})})):r[t]={position:0,targets:s(c.expression,["architect","targets"],i)??{}},r}},8734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNxWorkspaceConfig=void 0;const n=r(71017),o=r(92164),a=r(51667),s=r(32414);async function i(e,t){let r;r="nx"===e?(await(0,a.readAndCacheJsonFile)("workspace.json",t)).json:(await(0,a.readAndCacheJsonFile)("angular.json",t)).json;const o=(await(0,a.readAndCacheJsonFile)("nx.json",t)).json;return{workspaceConfiguration:{...r,...o,projects:{...o.projects??{},...r.projects}},configPath:"nx"===e?(0,n.join)(t,"workspace.json"):(0,n.join)(t,"angular.json")}}t.getNxWorkspaceConfig=async function(e,t,r){const a=await(0,s.nxVersion)(e);if(a<12)return i(t,e);try{const[s,c]=await Promise.all([(0,o.getNxWorkspacePackageFileUtils)(),(0,o.getNxProjectGraph)()]),l=s.workspaceFileName();let d;try{d=s.readWorkspaceConfig({format:t,path:e})}catch{d=(await i(t,e)).workspaceConfiguration}let u=null;try{if(!r)throw"No project graph support";u=a<13?c.createProjectGraph():await c.createProjectGraphAsync()}catch{}return function(e,t){if(t)for(const[r,n]of Object.entries(t.nodes)){const t=e.projects[r];if(t)e.projects[r]={...t,targets:n.data.targets??{}};else{if(r.match(/:/))continue;e.projects[r]={root:n.data.root,targets:n.data.targets??{},name:r,tags:n.data.tags??[]}}}}(d,u),{workspaceConfiguration:d,configPath:(0,n.join)(e,l)}}catch(r){return i(t,e)}}},92164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNxWorkspacePackageFileUtils=t.getNxProjectGraph=void 0;const n=r(58543),o=r(92159),a=r(22037),s=r(71017),i=r(32414);async function c(e,t,r){try{if(!e)throw"local Nx dependency not found";"win32"===(0,a.platform)()&&(e=e.replace(/\\/g,"/"));const t=require(e);return(0,n.getOutputChannel)().appendLine(`Using local Nx package at ${e}`),t}catch(r){return(0,n.getOutputChannel)().appendLine(`Unable to load the ${e} dependency from the workspace. Falling back to extension dependency\n${r}\n    `),t}}t.getNxProjectGraph=async function(){const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");let t=await(0,i.findNxPackagePath)(e,(0,s.join)("src","project-graph","project-graph.js"));return t||(t=await(0,i.findNxPackagePath)(e,(0,s.join)("src","core","project-graph","project-graph.js"))),c(t,await Promise.resolve().then((()=>r(51031))))},t.getNxWorkspacePackageFileUtils=async function(){const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");let t=await(0,i.findNxPackagePath)(e,(0,s.join)("src","project-graph","file-utils.js"));return t||(t=await(0,i.findNxPackagePath)(e,(0,s.join)("src","core","file-utils.js"))),c(t,await Promise.resolve().then((()=>r(28919))))}},98313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nxWorkspace=void 0;const n=r(58543),o=r(92159),a=r(71017),s=r(72872),i=r(89496),c=r(8734),l=r(51667);var d;!function(e){e[e.not_started=0]="not_started",e[e.in_progress=1]="in_progress",e[e.cached=2]="cached"}(d||(d={}));let u=new s.ReplaySubject,p=d.not_started;t.nxWorkspace=async function(e){if(e){p=d.not_started,u=new s.ReplaySubject;const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","");(0,l.clearJsonCache)("angular.json",e),(0,l.clearJsonCache)("workspace.json",e)}return(0,s.firstValueFrom)((0,s.iif)((()=>p===d.not_started),(0,s.of)({}).pipe((0,s.tap)((()=>{p=d.in_progress})),(0,s.switchMap)((()=>(0,s.from)(async function(){const e=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),t=await(0,l.fileExists)((0,a.join)(e,"angular.json")),r=await(0,n.checkIsNxWorkspace)(e),s=await(0,c.getNxWorkspaceConfig)(e,t?"angularCli":"nx",r),d=await(0,l.fileExists)((0,a.join)(e,"lerna.json"));try{return{validWorkspaceJson:!0,workspaceType:t?"ng":"nx",workspace:(0,n.toWorkspaceFormat)(s.workspaceConfiguration),configurationFilePath:s.configPath,isLerna:d,workspaceLayout:{appsDir:s.workspaceConfiguration.workspaceLayout?.appsDir??d?"packages":"apps",libsDir:s.workspaceConfiguration.workspaceLayout?.libsDir??d?"packages":"libs"},workspacePath:e}}catch(t){const r="Invalid workspace: "+e;i.window.showErrorMessage(r,"Show Error").then((e=>{e&&(0,n.getOutputChannel)().show()})),(0,n.getOutputChannel)().appendLine(r);const o=t.toString?t.toString():JSON.stringify(t);return(0,n.getOutputChannel)().appendLine(o),(0,n.getTelemetry)().exception(o),{validWorkspaceJson:!1,workspaceType:"nx",workspace:{npmScope:"@nx-console",projects:{},version:2},configurationFilePath:"",workspacePath:e,isLerna:!1,workspaceLayout:{appsDir:"apps",libsDir:"libs"}}}}()))),(0,s.tap)((e=>{u.next(e),p=d.cached}))),u))}},71427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealNxProject=void 0;const n=r(58543),o=r(92159),a=r(71017),s=r(89496),i=r(73014),c=r(51667);t.revealNxProject=async function(e,t,r){const l=o.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),d=await(0,n.buildProjectPath)(l,t),u=(0,a.join)(l,"workspace.json"),p=(0,a.join)(l,"angular.json");let f=l;await(0,c.fileExists)(p)?f=p:d?f=d:await(0,c.fileExists)(u)&&(f=u);const h=await s.workspace.openTextDocument(s.Uri.file(f)),m=(0,i.getProjectLocations)(h,e);let g=m[e].position;if(r){const t=m[e].targets?.[r.name];if(t){const e=t.configurations?.[r.configuration||""];g=e?e.position:t.position}}const y=h.positionAt(g);await s.window.showTextDocument(h,{selection:new s.Selection(y,y)})}},64186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceCodeLensProvider=t.ProjectCodeLens=t.TargetCodeLens=void 0;const n=r(89496),o=r(98313),a=r(73014),s=r(92159),i=r(58543);class c extends n.CodeLens{constructor(e,t,r,n,o){super(e),this.workspaceType=t,this.project=r,this.target=n,this.configuration=o}}t.TargetCodeLens=c;class l extends n.CodeLens{constructor(e,t,r){super(e),this.project=t,this.projectPath=r}}t.ProjectCodeLens=l,t.WorkspaceCodeLensProvider=class{constructor(e){this.context=e,this.registerWorkspaceCodeLensProvider(e),this.watchWorkspaceCodeLensConfigChange(e)}async provideCodeLenses(e){const t=[];let r="";const{workspace:n}=await(0,o.nxWorkspace)();if(e.uri.path.endsWith("project.json"))for(const[t,o]of Object.entries(n.projects))if(e.uri.path.replace(/\\/g,"/").endsWith(`${o.root}/project.json`)){r=t;break}const i=(0,a.getProjectLocations)(e,r),{validWorkspaceJson:c,workspaceType:l}=await(0,o.nxWorkspace)();if(c){for(const r in i){const n=i[r];await this.buildProjectLenses(n,e,t,r,s.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")),this.buildTargetLenses(n,e,t,l,r)}return t}}async buildProjectLenses(e,t,r,o,a){if(!e.projectPath)return;const s=t.positionAt(e.position);r.push(new l(new n.Range(s,s),o,await(0,i.buildProjectPath)(a,e.projectPath)??""))}buildTargetLenses(e,t,r,o,a){const s=e.targets;for(const e in s){const i=t.positionAt(s[e].position);r.push(new c(new n.Range(i,i),o,a,e));const l=s[e].configurations;if(l)for(const s in l){const i=t.positionAt(l[s].position);r.push(new c(new n.Range(i,i),o,a,e,s))}}}resolveCodeLens(e){if(e instanceof c){const t={command:`${e.workspaceType}.run`,title:e.configuration?`${e.workspaceType} run ${e.project}:${e.target}:${e.configuration}`:`${e.workspaceType} run ${e.project}:${e.target}`,arguments:[e.project,e.target,e.configuration,!1]};return e.command=t,e}if(e instanceof l){const t={command:"vscode.open",title:`Go to "${e.project}" configuration`,arguments:[n.Uri.file(e.projectPath)]};return e.command=t,e}return null}registerWorkspaceCodeLensProvider(e){s.GlobalConfigurationStore.instance.get("enableWorkspaceConfigCodeLens")&&(this.codeLensProvider=n.languages.registerCodeLensProvider({pattern:"**/{workspace,angular,project}.json"},this),e.subscriptions.push(this.codeLensProvider))}watchWorkspaceCodeLensConfigChange(e){e.subscriptions.push(n.workspace.onDidChangeConfiguration((e=>{if(e.affectsConfiguration(s.GlobalConfigurationStore.configurationSection)){const e=s.GlobalConfigurationStore.instance.get("enableWorkspaceConfigCodeLens");e&&!this.codeLensProvider?this.registerWorkspaceCodeLensProvider(this.context):!e&&this.codeLensProvider&&(this.codeLensProvider.dispose(),this.codeLensProvider=null)}})))}}},15424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(73536),t)},72851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectGraphOutput=t.createProjectGraph=void 0;const n=r(14560),o=r(58543),a=r(92159),s=r(32081),i=r(60703);let c;function l(){const e=c??".",t=`${e}/project-graph.html`;return{directory:e,relativePath:"."+t.replace(a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),""),fullPath:t}}t.createProjectGraph=async function(){return new Promise(((e,t)=>{c||(c=i({name:"nx-console-project-graph",cwd:a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")}));const r=a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath",""),d=(0,n.detectPackageManager)(r),u=`${(0,n.getPackageManagerCommand)(d).exec} nx dep-graph --file ${l().relativePath}`;(0,o.getOutputChannel)().appendLine(`Generating graph with command: \`${u}\``);try{(0,s.execSync)(u,{cwd:r}),e()}catch(e){(0,o.getOutputChannel)().appendLine("Unable to create project graph: "+e.toString()),t()}}))},t.getProjectGraphOutput=l},38632:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=void 0,(r=t.MessageType||(t.MessageType={})).focus="FOCUS",r.select="SELECT"},10951:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphWebView=void 0;const n=r(89496),o=r(4531),a=r(14414),s=r(56634);t.GraphWebView=class{constructor(){a.graphService.onTransition((async e=>{if(e.changed&&this.panel){if(e.matches("loading"))this.panel.webview.html=(0,s.loadSpinner)();else if(e.matches("content"))this.panel.webview.html=await(0,s.loadHtml)(this.panel);else if(e.matches("error"))this.panel.webview.html=(0,s.loadError)();else if(e.matches("no_project"))this.panel.webview.html=(0,s.loadNoProject)();else if(e.matches("viewReady")){const t=e.context.project;this.panel?.webview.postMessage(t)}setTimeout((()=>{a.graphService.execute(e)}))}})),a.graphService.start()}dispose(){a.graphService.stop()}_webview(){this.panel||(this.panel=n.window.createWebviewPanel("graph","Nx Graph",{viewColumn:n.ViewColumn.Active,preserveFocus:!1},{enableScripts:!0,retainContextWhenHidden:!0}),this.panel.onDidDispose((()=>{this.panel=void 0,a.graphService.send("VIEW_DESTROYED")})),this.panel.webview.onDidReceiveMessage((async e=>{"ready"===e.command&&(await(0,o.waitFor)(a.graphService,(e=>e.matches("content"))),a.graphService.send("VIEW_READY")),"refresh"===e.command&&n.commands.executeCommand("nxConsole.refreshWorkspace")})),a.graphService.send("GET_CONTENT"))}async projectInWebview(e,t){this.panel||this._webview(),e?(this.panel?.reveal(),a.graphService.send("PROJECT_SELECTED",{data:{type:t,projectName:e}})):a.graphService.send("NO_PROJECT")}refresh(){a.graphService.send("REFRESH")}}},14414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphService=t.graphMachine=t.ViewStatus=t.State=void 0;const n=r(39774),o=r(41428),a=r(72851);var s,i;!function(e){e.init="init",e.loading="loading",e.loaded="loaded",e.error="error"}(s=t.State||(t.State={})),(i=t.ViewStatus||(t.ViewStatus={})).ready="ready",i.destroyed="destroyed",t.graphMachine=(0,n.createMachine)({context:{state:s.init,project:null},tsTypes:{},schema:{context:{},services:{},events:{}},id:"Project Graph",initial:"init",on:{REFRESH:{actions:"refreshData",target:".content"},PROJECT_SELECTED:{actions:"projectSelected"},NO_PROJECT:{target:".no_project"}},states:{init:{entry:"log",on:{GET_CONTENT:{target:"content"}}},content:{entry:"log",always:{cond:"loadGraph",target:"loading"},on:{VIEW_READY:{target:"viewReady"}}},loading:{entry:[(0,n.assign)({state:s.loading}),"log"],invoke:{src:"generateContent",id:"loadingContent",onDone:[{actions:"contentLoaded",target:"content"}],onError:[{actions:"loadingFailed",target:"error"}]}},error:{entry:"log",on:{GET_CONTENT:{target:"content"}}},no_project:{on:{GET_CONTENT:{target:"content"}}},viewReady:{entry:"log",on:{VIEW_DESTROYED:{target:"viewDestroyed"}}},viewDestroyed:{entry:["log","refreshData","clearProject"],on:{GET_CONTENT:{target:"content"}}}}},{services:{generateContent:async()=>(0,a.createProjectGraph)()},actions:{log:(0,o.log)(((e,t)=>t),"Graph"),refreshData:(0,n.assign)({state:()=>s.init}),contentLoaded:(0,n.assign)({state:()=>s.loaded}),loadingFailed:(0,n.assign)({state:()=>s.error}),clearProject:(0,n.assign)({project:e=>null}),projectSelected:(0,n.assign)({project:(e,{data:t})=>({projectName:t.projectName,type:t.type})})},guards:{loadGraph:e=>e.state!==s.loaded}}),t.graphService=(0,n.interpret)(t.graphMachine,{execute:!1})},56634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadHtml=t.loadSpinner=t.loadError=t.loadNoProject=void 0;const n=r(89496),o=r(38632),a=r(72851),s=String.raw;t.loadNoProject=function(){return s`
    <script>
      const vscodeApi = acquireVsCodeApi();

      function refresh() {
        vscodeApi.postMessage({
          command: 'refresh',
        });
      }
    </script>
    <p>
      Unable to find the selected project in the workspace. Please make sure
      that node_modules is installed and that the Nx projects are loaded
      properly.
    </p>
    <p>
      If node_modules are installed, click
      <a onclick="refresh()" style="cursor: pointer">here</a> to reload the
      projects in the workspace.
    </p>
  `},t.loadError=function(){return s`
    <p>
      Unable to load the project graph. Please check the output for errors and
      try again.
    </p>
  `},t.loadSpinner=function(){return s`
    <style>
      .lds-roller {
        display: inline-block;
        position: relative;
        width: 80px;
        height: 80px;
      }

      .lds-roller div {
        animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        transform-origin: 40px 40px;
      }

      .lds-roller div:after {
        content: ' ';
        display: block;
        position: absolute;
        width: 7px;
        height: 7px;
        border-radius: 50%;
        background: var(--vscode-editor-foreground);
        margin: -4px 0 0 -4px;
      }

      .lds-roller div:nth-child(1) {
        animation-delay: -0.036s;
      }

      .lds-roller div:nth-child(1):after {
        top: 63px;
        left: 63px;
      }

      .lds-roller div:nth-child(2) {
        animation-delay: -0.072s;
      }

      .lds-roller div:nth-child(2):after {
        top: 68px;
        left: 56px;
      }

      .lds-roller div:nth-child(3) {
        animation-delay: -0.108s;
      }

      .lds-roller div:nth-child(3):after {
        top: 71px;
        left: 48px;
      }

      .lds-roller div:nth-child(4) {
        animation-delay: -0.144s;
      }

      .lds-roller div:nth-child(4):after {
        top: 72px;
        left: 40px;
      }

      .lds-roller div:nth-child(5) {
        animation-delay: -0.18s;
      }

      .lds-roller div:nth-child(5):after {
        top: 71px;
        left: 32px;
      }

      .lds-roller div:nth-child(6) {
        animation-delay: -0.216s;
      }

      .lds-roller div:nth-child(6):after {
        top: 68px;
        left: 24px;
      }

      .lds-roller div:nth-child(7) {
        animation-delay: -0.252s;
      }

      .lds-roller div:nth-child(7):after {
        top: 63px;
        left: 17px;
      }

      .lds-roller div:nth-child(8) {
        animation-delay: -0.288s;
      }

      .lds-roller div:nth-child(8):after {
        top: 56px;
        left: 12px;
      }

      @keyframes lds-roller {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      main {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
    </style>
    <main>
      <div class="lds-roller">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </main>
  `},t.loadHtml=async function(e){const t=(0,a.getProjectGraphOutput)(),r=n.Uri.file(t.directory),i=n.Uri.file(t.fullPath);let c=(await n.workspace.fs.readFile(i)).toString();return c=c.replace(/static\//g,`${e.webview.asWebviewUri(r)}/static/`),c=c.replace("</head>",s`
      <style>
        #sidebar {
          display: none;
        }

        #no-projects-chosen {
          display: none
        }

        body {
          background-color: var(--vscode-settings-editor-background) !important;
        }
        .nx-select-project {
          padding: 12px;
        }
      </style>
      <script>${`\n(function () {\n      const vscode = acquireVsCodeApi();\n\n      const noProjectElement = document.createElement('p');\n      noProjectElement.classList.add('nx-select-project');\n      noProjectElement.innerText = "Please select or focus a Nx project";\n\n      vscode.postMessage({\n        command: 'ready',\n      })\n\n      function nx12(data) {\n        const projectCheckbox = document.querySelector(\`input[value="\${data.projectName}"]\`);\n        if (data.type === "${o.MessageType.focus}") {\n          projectCheckbox.parentElement.parentElement.querySelector('button').click();\n        } else if (data.type === "${o.MessageType.select}") {\n          projectCheckbox.click();\n        }\n      }\n\n      window.addEventListener('message', ({data}) => {\n        if (!data) {\n          document.body.prepend(noProjectElement);\n          return;\n        }\n\n        setTimeout(() => {\n          try {\n            document.body.removeChild(noProjectElement);\n          } catch(e) {\n            //noop\n          }\n          const projectElement = document.querySelector(\`[data-project="\${data.projectName}"]\`);\n\n          if (!projectElement) {\n            return nx12(data);\n          }\n\n          if (data.type === "${o.MessageType.focus}") {\n            projectElement.parentElement.querySelector('button').click();\n          } else if (data.type === "${o.MessageType.select}") {\n            projectElement.click();\n          }\n        })\n      })\n    }())\n  `}</script>
      </head>`),c}},73536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectGraph=void 0;const n=r(55441),o=r(89496),a=r(38632),s=r(10951);async function i(e,t,r){let a;a=t?t.fsPath:o.window.activeTextEditor?.document.fileName;const s=await(0,n.findProjectWithPath)(a);e.projectInWebview(s?.name,r)}t.projectGraph=function(){const e=new s.GraphWebView;return o.Disposable.from(e,o.commands.registerCommand("nx.graph.refresh",(()=>{e.refresh()})),o.commands.registerCommand("nx.graph.focus",(async t=>{await i(e,t,a.MessageType.focus)})),o.commands.registerCommand("nx.graph.select",(async t=>{await i(e,t,a.MessageType.select)})),o.commands.registerCommand("nx.graph.focus.button",(async({nxProject:{project:t}})=>{e.projectInWebview(t,a.MessageType.focus)})),o.commands.registerCommand("nx.graph.select.button",(async({nxProject:{project:t}})=>{e.projectInWebview(t,a.MessageType.select)})))}},49018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(70655);n.__exportStar(r(50808),t),n.__exportStar(r(15174),t),n.__exportStar(r(21167),t),n.__exportStar(r(34455),t),n.__exportStar(r(8703),t)},21167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectCliProject=t.getCliProjectFromUri=t.registerCliTaskCommands=void 0;const n=r(89496),o=r(20300),a=r(32414),s=r(47812),i=r(55489),c=r(55441),l=r(31203),d=r(34455),u=r(74756),p=r(8703),f=["build","deploy","e2e","lint","serve","test","xi18n"];let h;async function m(e,t,r,o,a){if(!h.getWorkspacePath())return void n.window.showErrorMessage("Nx Console requires a workspace be set to perform this action");const{validWorkspaceJson:s,configurationFilePath:l}=await(0,c.nxWorkspace)();if(!s)return void n.window.showErrorMessage("Invalid configuration file");const d=new i.RunTargetTreeItem(l,e,t,o,a);n.commands.executeCommand("nxConsole.revealWebViewPanel",d,r)}async function g(e,t,r,o,a=!0){let i;o?i=[`--configuration=${o}`]:a||(i=[]);const{validWorkspaceJson:d,workspace:p,workspaceType:f}=await(0,c.nxWorkspace)();if(!t){const r=d?await v(e,p):void 0;if(!r)return;t=r.projectName}const m="run"===e;if(!r)if(m){if(!(r=await async function(e){return n.window.showQuickPick(e,{placeHolder:"Target to run"})}(Object.keys(p.projects[t].targets||{}))))return}else r=e;const g=await(0,l.verifyBuilderDefinition)(t,r,p,f),{validBuilder:w,options:x,configurations:k}=g;let j=[...x];w&&(i||(k.length&&(j=[{name:"configuration",isRequired:!1,description:'A named build target as specified in the "configurations" section of your project config.',type:s.OptionType.String,enum:k,aliases:[]},...j]),i=await(0,u.selectFlags)(m?`${e} ${t}:${y(r)}`:`${e} ${t}`,j,f)),void 0!==i&&h.executeTask({positional:m?`${t}:${y(r)}`:t,command:e,flags:i}))}function y(e){return e.match(/\s/g)?`"${e}"`:e}async function w(e){return(await(0,c.findProjectWithPath)(e.fsPath))?.name}async function v(e,t){const r=(await h.getProjectEntries(t)).filter((([,{targets:e}])=>Boolean(e))).flatMap((([e,{targets:t,root:r}])=>({project:e,targets:t,root:r}))).filter((({targets:t})=>Boolean(t&&t[e])||"run"===e)).map((({project:t,targets:r,root:n})=>new d.CliTaskQuickPickItem(t,n,r[e],e,t)));if(r.length)return n.window.showQuickPick(r,{placeHolder:`Project to ${e}`});n.window.showInformationMessage(`No projects have a target command for ${e}`)}t.registerCliTaskCommands=function(e,t){h=t,f.forEach((t=>{e.subscriptions.push(n.commands.registerCommand(`ng.${t}`,(()=>g(t))),n.commands.registerCommand(`ng.${t}.ui`,(()=>m(t,e.extensionPath))),n.commands.registerCommand(`nx.${t}`,(()=>g(t))),n.commands.registerCommand(`nx.${t}.ui`,(()=>m(t,e.extensionPath))))})),["ng","nx"].forEach((async t=>{n.commands.registerCommand(`${t}.run`,((e,t,r,n)=>{g("run",e,t,r,n)})),n.commands.registerCommand(`${t}.run.fileexplorer`,(async e=>g("run",await w(e)))),await(0,a.nxVersion)(h.getWorkspacePath())>=8&&(n.commands.registerCommand(`${t}.move.fileexplorer`,(async t=>{const r=await(async()=>{const e=h.getWorkspacePath();return(await(0,o.getGenerators)(e,await h.getProjects())).find((e=>"@nrwl/angular:move"===e.name))?"@nrwl/angular:move":"@nrwl/workspace:move"})();m("generate",e.extensionPath,t,s.GeneratorType.Other,r)})),n.commands.registerCommand(`${t}.remove.fileexplorer`,(async t=>{const r=await(async()=>{const e=h.getWorkspacePath();return(await(0,o.getGenerators)(e,await h.getProjects())).find((e=>"@nrwl/angular:remove"===e.name))?"@nrwl/angular:remove":"@nrwl/workspace:remove"})();m("generate",e.extensionPath,t,s.GeneratorType.Other,r)}))),n.commands.registerCommand(`${t}.generate`,(()=>async function(){const{validWorkspaceJson:e,workspaceType:t,workspacePath:r}=await(0,c.nxWorkspace)();if(!e)return;const n=await(0,p.selectGenerator)(r,t);if(!n)return;const o=await(0,u.selectFlags)(`generate ${n.positional}`,n.options,t);void 0!==o&&h.executeTask({positional:n.positional,command:"generate",flags:o})}())),n.commands.registerCommand(`${t}.generate.ui`,(()=>m("generate",e.extensionPath))),n.commands.registerCommand(`${t}.generate.ui.fileexplorer`,(t=>m("generate",e.extensionPath,t))),n.commands.registerCommand(`${t}.generate.ui.app`,(t=>{m("generate",e.extensionPath,t,s.GeneratorType.Application)})),n.commands.registerCommand(`${t}.generate.ui.lib`,(t=>{m("generate",e.extensionPath,t,s.GeneratorType.Library)})),n.commands.registerCommand(`${t}.generate.ui.app.fileexplorer`,(t=>{m("generate",e.extensionPath,t,s.GeneratorType.Application)})),n.commands.registerCommand(`${t}.generate.ui.lib.fileexplorer`,(t=>{m("generate",e.extensionPath,t,s.GeneratorType.Library)})),n.commands.registerCommand(`${t}.run.target`,(async()=>{const e=await n.window.showQuickPick(async function(){const{workspace:e}=await(0,c.nxWorkspace)(),t=Object.values(e.projects).reduce(((e,t)=>{for(const r of Object.keys(t.targets??{}))e.add(r);return e}),new Set);return Array.from(t)}());if(!e)return;const t=await n.window.showQuickPick(async function(e){const{workspace:t}=await(0,c.nxWorkspace)(),r=[];for(const[n,o]of Object.entries(t.projects))(o.targets??{})[e]&&r.push(n);return r}(e));t&&g("run",t,e)}))}))},t.getCliProjectFromUri=w,t.selectCliProject=v},32153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CliTaskFlagQuickPickItem=void 0,t.CliTaskFlagQuickPickItem=class{constructor(e,t="",r,n){this.flagName=e,this.detail=t,this.option=r,this.label=n}}},50808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CliTaskProvider=void 0;const n=r(47812),o=r(58543),a=r(92159),s=r(57081),i=r(55441),c=r(89496),l=r(48445),d=r(62078);t.CliTaskProvider=class{constructor(){c.tasks.onDidEndTaskProcess((()=>{this.currentDryRun=void 0,this.deferredDryRun&&(this.executeTask(this.deferredDryRun),this.deferredDryRun=void 0)}))}getWorkspacePath(){return a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")}getWorkspaceJsonPath(){return a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")}provideTasks(){return null}async resolveTask(e){if(this.getWorkspacePath()&&e.definition.command&&e.definition.project){const t=await this.createTask({command:e.definition.command,positional:e.definition.project,flags:Array.isArray(e.definition.flags)?e.definition.flags:[]});return t.definition=e.definition,t}}async createTask(e){return l.CliTask.create(e,this.getWorkspacePath())}async executeTask(e){s.NxConversion.instance.trackEvent(e.command);const t=e.flags.includes("--dry-run");if(t&&this.currentDryRun)return void(this.deferredDryRun=e);let r;const a=e.positional.match(n.WORKSPACE_GENERATOR_NAME_REGEX);return r="generate"===e.command&&a&&a.length>2?d.NxTask.create({command:`workspace-${a[1]}`,positional:a[2],flags:e.flags},this.getWorkspacePath()):await this.createTask(e),(0,o.getTelemetry)().featureUsed(e.command),c.tasks.executeTask(r).then((e=>{t&&(this.currentDryRun=e)}))}async getProjects(e){if(e)return e.projects;{const e=await(0,i.nxWorkspace)();return e.validWorkspaceJson&&e.workspace?e.workspace.projects:{}}}async getProjectNames(){return Object.keys(await this.getProjects()||{})}async getProjectEntries(e){return Object.entries(await this.getProjects(e)||{})}}},34455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CliTaskQuickPickItem=void 0,t.CliTaskQuickPickItem=class{constructor(e,t,r,n,o){this.projectName=e,this.projectRoot=t,this.targetDef=r,this.command=n,this.label=o}}},48445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CliTask=void 0;const n=r(58543),o=r(89496);class a extends o.Task{static async create(e,t){const{command:r}=e,s=function(e){const{positional:t,command:r,flags:n}=e;switch(r){case"add":case"build":case"lint":case"generate":case"run":case"serve":case"test":return[r,t,...n];default:return["run",`${t}:${r}`,...n]}}(e),i=await(0,n.checkIsNxWorkspace)(t),c=i?`nx ${s.join(" ")}`:`ng ${s.join(" ")}`,l=new a({...e,type:i?"nx":"ng"},o.TaskScope.Workspace,c,i?"nx":"ng",(0,n.getShellExecutionForConfig)({displayCommand:c,cwd:t}));switch(r){case"build":l.group=o.TaskGroup.Build,l.problemMatchers.push("$webpack-builder");break;default:l.group=o.TaskGroup.Test}return l}}t.CliTask=a},15174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerNxCommands=void 0;const n=r(47812),o=r(89496),a=r(74756),s=r(55441),i=r(58543),c=r(62078);let l;async function d(){const{validWorkspaceJson:e,workspace:t}=await(0,s.nxWorkspace)();if(!e||!t)return;const r=Array.from(new Set(Object.entries(t.projects).map((([,e])=>Object.keys(e.targets||{}))).flat())).sort();if(r.length)return o.window.showQuickPick(r);o.window.showErrorMessage("None of your workspace projects have an architect or targets command")}t.registerNxCommands=function(e,t){l=t,e.subscriptions.push(o.commands.registerCommand("nx.affected",(async()=>{const e=await d();e&&f(e)})),...["apps","build","e2e","libs","lint","test"].map((e=>o.commands.registerCommand(`nx.affected.${e}`,(()=>f(e)))))),e.subscriptions.push(o.commands.registerCommand("nx.run-many",(()=>async function(){(0,i.getTelemetry)().featureUsed("affected-cli");const e=await d();if(!e)return;let t=p;const r=await async function(e){const{validWorkspaceJson:t,workspace:r}=await(0,s.nxWorkspace)();if(t&&r)return Array.from(new Set(Object.entries(r.projects).filter((([,t])=>t.targets&&t.targets[e])).map((([e])=>e)))).sort()}(e);r&&r.length&&(t=[{name:"projects",type:n.OptionType.Array,description:"Projects to run",aliases:[],isRequired:!1,enum:r},...p]);const u=await(0,a.selectFlags)("run-many",t,"nx",{target:e});if(void 0!==u){const e=c.NxTask.create({command:"run-many",flags:u},l.getWorkspacePath());o.tasks.executeTask(e)}}()))),e.subscriptions.push(o.commands.registerCommand("nx.list",(()=>async function(){(0,i.getTelemetry)().featureUsed("affected-cli");const e=c.NxTask.create({command:"list",flags:[]},l.getWorkspacePath());o.tasks.executeTask(e)}()))),e.subscriptions.push(o.commands.registerCommand("nx.migrate",(()=>async function(){(0,i.getTelemetry)().featureUsed("affected-cli");const e=c.NxTask.create({command:"migrate",flags:[]},l.getWorkspacePath());o.tasks.executeTask(e)}())))};const u=[{name:"base",type:n.OptionType.String,isRequired:!1,description:"Base of the current branch (usually main)"},{name:"head",type:n.OptionType.String,isRequired:!1,description:"Latest commit of the current branch (usually HEAD)"},{name:"parallel",type:n.OptionType.Boolean,description:"Parallelize the command",isRequired:!1,default:"false"},{name:"maxParallel",type:n.OptionType.Number,description:"Max number of parallel processes",isRequired:!1,default:3},{name:"only-failed",type:n.OptionType.Boolean,description:"Isolate projects which previously failed",isRequired:!1,default:"false"},{name:"all",type:n.OptionType.Boolean,description:"All projects",isRequired:!1},{name:"configuration",type:n.OptionType.String,isRequired:!1,description:"This is the configuration to use when performing tasks on projects"},{name:"exclude",type:n.OptionType.String,isRequired:!1,description:"Exclude certain projects from being processed"},{name:"files",type:n.OptionType.Array,isRequired:!1,description:"Manually specify changed files, delimited by commas"},{name:"skip-nx-cache",type:n.OptionType.Boolean,description:"Rerun the tasks even when the results are available in the cache",isRequired:!1,default:!1},{name:"verbose",type:n.OptionType.Boolean,isRequired:!1,description:"Print additional error stack trace on failure",default:!1}].map((e=>({...e,aliases:[]}))),p=[{name:"all",type:n.OptionType.Boolean,description:"All projects",isRequired:!1},{name:"parallel",type:n.OptionType.Boolean,description:"Parallelize the command",isRequired:!1,default:"false"},{name:"maxParallel",type:n.OptionType.Number,description:"Max number of parallel processes",isRequired:!1,default:3},{name:"only-failed",type:n.OptionType.Boolean,description:"Isolate projects which previously failed",isRequired:!1,default:"false"},{name:"configuration",type:n.OptionType.String,description:"This is the configuration to use when performing tasks on projects",isRequired:!1},{name:"skip-nx-cache",type:n.OptionType.Boolean,description:"Rerun the tasks even when the results are available in the cache",default:!1,isRequired:!1},{name:"with-deps",type:n.OptionType.Boolean,description:"Include dependencies of specified projects when computing what to run",isRequired:!1,default:!1},{name:"exclude",type:n.OptionType.String,isRequired:!1,description:"Exclude certain projects from being processed"},{name:"verbose",type:n.OptionType.Boolean,description:"Print additional error stack trace on failure",isRequired:!1,default:!1}].map((e=>({...e,aliases:[]})));async function f(e){(0,i.getTelemetry)().featureUsed("affected-cli");const{positional:t,command:r,flags:n}=await async function(e){switch(e){case"apps":case"libs":{const t=`affected:${e}`;return{command:t,flags:await(0,a.selectFlags)(t,u,"nx")}}default:{const t=`--target=${e}`;return{command:"affected",positional:t,flags:await(0,a.selectFlags)(`affected ${t}`,u,"nx")}}}}(e);if(void 0!==n){const e=c.NxTask.create({command:r,flags:n,positional:t},l.getWorkspacePath());o.tasks.executeTask(e)}}[{name:"watch",type:n.OptionType.Boolean,isRequired:!1,description:"Watch for changes to dep graph and update in-browser"},{name:"file",type:n.OptionType.String,isRequired:!1,description:"output file (e.g. --file=output.json)"},{name:"filter",type:n.OptionType.Array,isRequired:!1,description:"Use to limit the dependency graph to only show specific projects, list of projects delimited by commas."},{name:"exclude",type:n.OptionType.Array,isRequired:!1,description:"List of projects delimited by commas to exclude from the dependency graph."},{name:"host",type:n.OptionType.String,isRequired:!1,description:"Bind the dep graph server to a specific ip address."}].map((e=>({...e,aliases:[]})))},62078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NxTask=void 0;const n=r(58543),o=r(89496);class a extends o.Task{static create(e,t){const{command:r,flags:s,positional:i}=e,c=`nx ${[r,...i?[i]:[],...s].join(" ")}`;return new a({...e,type:"nx"},o.TaskScope.Workspace,c,"nx",(0,n.getShellExecutionForConfig)({displayCommand:c,cwd:t}))}}t.NxTask=a},74756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFlags=void 0;const n=r(89496),o=r(32153);t.selectFlags=async function e(t,r,a,s={}){const i=Object.entries(s).map((([e,t])=>`--${e}=${t}`)),c=await async function(e,t){const r=[{picked:!0,alwaysShow:!0,label:`Execute: ${e}`},...t.map((e=>{const t=e.description??(Array.isArray(e.type)?e.type?.[0]:e.type);return new o.CliTaskFlagQuickPickItem(e.name,t,e,`${e.name}`)}))],a=await n.window.showQuickPick(r,{placeHolder:"Execute command or set flags"});return a?Boolean(a.option)?{flag:a}:{execute:!0}:{execute:!1}}(`${a} ${t} ${i.join(" ")}`,r);if(!c.flag)return c.execute?i:void 0;const l=await function(e){const t=`--${e.flagName}=...`;return"boolean"===e.option.type?n.window.showQuickPick(["true","false"],{placeHolder:t}):e.option.enum&&e.option.enum.length?n.window.showQuickPick([...e.option.enum.map(String)],{placeHolder:t,canPickMany:"array"===e.option.type}):n.window.showInputBox({placeHolder:t})}(c.flag);return l&&l.length>0?s[c.flag.flagName]=l:delete s[c.flag.flagName],e(t,r,a,s)}},8703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectGenerator=t.getGeneratorOptions=void 0;const n=r(92159),o=r(55441),a=r(89496),s=r(51667),i=r(20300),c=r(93134);async function l(e,t,r,n,a){const i=await(0,s.readAndCacheJsonFile)(n),l=await async function(){const{workspace:e}=await(0,o.nxWorkspace)();let t=e.generators;if(!t)try{t=e.generators||{}}catch(e){t={}}return Object.keys(t).reduce(((e,r)=>{if(r.includes(":")){const[n,o]=r.split(":");e[n]||(e[n]={}),e[n][o]=t?.[r]}else{const n=r;e[n]||(e[n]={}),Object.keys(t?.[n]??{}).forEach((r=>{e[n][r]=t?.[n][r]}))}return e}),{})}(),d=l&&l[t]&&l[t][r];return await(0,c.normalizeSchema)(i.json,a,d)}t.getGeneratorOptions=l,t.selectGenerator=async function(e,t,r,s){const{workspace:c}=await(0,o.nxWorkspace)(),d=await(0,i.getGenerators)(e,c.projects);let u=d.filter((e=>!!e.data)).map((e=>{const t=e.data;return{description:t.description,label:`${t.collection} - ${t.name}`,generatorName:`${t.collection}:${t.name}`,collectionName:t.collection,collectionPath:e.path,generator:t}}));if(n.GlobalConfigurationStore.instance.get("enableGeneratorFilters")??1){const e=n.GlobalConfigurationStore.instance.get("generatorAllowlist")??[],t=n.GlobalConfigurationStore.instance.get("generatorBlocklist")??[];e.length>0&&(u=u.filter((t=>e.includes(t.generatorName)))),t.length>0&&(u=u.filter((e=>!t.includes(e.generatorName))))}if(r&&(u=u.filter((e=>e.generator.type===r))),d){const e=s?u.find((e=>e.generator.collection===s.collection&&e.generator.name===s.name)):await a.window.showQuickPick(u);if(e){const r=e.generator.options||await l(0,e.collectionName,e.generator.name,e.collectionPath,t),n=e.generatorName;return{...e.generator,options:r,command:"generate",positional:n,cliName:"nx"}}}}},31203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(20355),t)},20355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyBuilderDefinition=void 0;const n=r(47812),o=r(58543),a=r(92159),s=r(71017),i=r(89496),c=r(51667),l=[{name:"with-deps",type:n.OptionType.Boolean,isRequired:!1,description:"Include dependencies of specified projects when computing what to run",default:!1},{name:"parallel",type:n.OptionType.Boolean,isRequired:!1,description:"Parallelize the command",default:"false"},{name:"maxParallel",type:n.OptionType.Number,isRequired:!1,description:"Max number of parallel processes",default:3},{name:"only-failed",type:n.OptionType.Boolean,isRequired:!1,description:"Isolate projects which previously failed",default:"false"},{name:"skip-nx-cache",type:n.OptionType.Boolean,isRequired:!1,description:"Rerun the tasks even when the results are available in the cache",default:!1},{name:"exclude",isRequired:!1,type:n.OptionType.String,description:"Exclude certain projects from being processed"}].map((e=>({...e,aliases:[]})));function d(){return a.WorkspaceConfigurationStore.instance.get("nxWorkspacePath","")}t.verifyBuilderDefinition=async function(e,t,r,n){const a=r.projects||{},u=((a[e]||{}).targets||{})[t]||{},p=Object.keys(u.configurations||{}),f=u.executor;if(!f)return i.window.showErrorMessage(`Please update ${e}'s ${t} definition to specify a builder.`,"See definition"),(0,o.getTelemetry)().exception("Builder part of architect definition not found"),{validBuilder:!1,configurations:p,builderName:f,options:[]};const h=await(0,o.readBuilderSchema)(d(),f,n,a,u.options);return h?{validBuilder:!0,builderName:f,configurations:p,options:await(0,c.fileExists)((0,s.join)(d(),"nx.json"))?[...l,...h]:h}:(i.window.showErrorMessage(`Builder specified for ${e} ${t} was not found in your dependencies. Check that specified builder is correct and has a corresponding entry in package.json`,"Show definition"),(0,o.getTelemetry)().exception("Specified builder not found in dependencies"),{validBuilder:!1,builderName:f,configurations:p,options:[]})}},45271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(70655).__exportStar(r(42104),t)},69370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskExecutionSchema=void 0;const n=r(58543),o=r(55441),a=r(31203),s=r(89496),i=r(49018);function c(e){return"project"===e.name||"projectName"===e.name||"projectName"===e.$default?.$source||"projects"===e["x-dropdown"]}t.getTaskExecutionSchema=async function(e,t="run",r,l,d){try{if(!e.getWorkspacePath())return;const{validWorkspaceJson:u,workspace:p,workspaceType:f}=await(0,o.nxWorkspace)();if(!u)return;switch(t.toLowerCase()){case"run":{const t=(await e.getProjectEntries()).filter((([,{targets:e}])=>Boolean(e))).flatMap((([e,{targets:t,root:r}])=>({project:e,targets:t,root:r}))).flatMap((({project:e,targets:t,root:r})=>[...Object.entries(t||{}).map((([t,n])=>({project:e,targetName:t,targetDef:n,root:r})))])).map((({project:e,targetName:t,targetDef:r,root:n})=>new i.CliTaskQuickPickItem(e,n,r,t,`${e}:${t}`)));return s.window.showQuickPick(t).then((async e=>{if(!e)return;const{validBuilder:t,options:r}=await(0,a.verifyBuilderDefinition)(e.projectName,e.command,p,f);return t?{...(0,n.readTargetDef)(e.command,e.targetDef,e.projectName),command:"run",positional:`${e.projectName}:${e.command}`,options:r,cliName:f}:void 0}))}case"generate":{const t=await(0,i.selectGenerator)(e.getWorkspacePath(),f,l,d?{collection:d.split(":")[0],name:d.split(":")[1]}:void 0);if(!t)return;for(const r of t.options)if(!r.enum&&c(r)){const t=await e.getProjectEntries();r.enum=r.items=t.map((e=>e[0])).sort()}const n=r?await async function(e,t,r){if(t){const n=await(0,o.findProjectWithPath)(t.fsPath),a=n&&n.name||void 0,s=r.getWorkspacePath();let i=t.fsPath.replace(s,"").replace(/\\/g,"/").replace(/^\//,"");const{workspaceLayout:l}=await(0,o.nxWorkspace)(),d=l.appsDir,u=l.libsDir;return(d&&"application"===e.name||"app"===e.name)&&(i=i.replace(d,"").replace(/^\//,"")),(u&&"library"===e.name||"lib"===e.name)&&(i=i.replace(u,"").replace(/^\//,"")),{project:a,projectName:a,path:i,...!(a&&e.options.some(c))&&{directory:i}}}}(t,r,e):void 0;return{...t,cliName:f,contextValues:n}}default:{const e=await(0,i.selectCliProject)(t,p);if(!e)return;const{validBuilder:r,options:o}=await(0,a.verifyBuilderDefinition)(e.projectName,t,p,f);if(!r)return;return{...(0,n.readTargetDef)(t,e.targetDef,e.projectName),options:o,positional:e.projectName,command:t,cliName:f}}}}catch(e){const t=e.toString?e.toString():JSON.stringify(e);(0,n.getOutputChannel)().appendLine(t),(0,n.getTelemetry)().exception(t),s.window.showErrorMessage("Nx Console encountered an error parsing your node modules","See details").then((e=>{e&&(0,n.getOutputChannel)().show()}))}}},42104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIframeHtml=t.createWebViewPanel=t.revealWebViewPanel=void 0;const n=r(71017),o=r(89496),a=r(58543),s=r(69370),i=r(57147);let c;function l(e,t,r,s){return c?(c.title=r,c.webview.postMessage({taskExecutionSchema:t}),c.reveal()):(c=o.window.createWebviewPanel("nx-console",r,o.ViewColumn.Active,{retainContextWhenHidden:!0,enableScripts:!0}),c.onDidDispose((()=>{c=void 0})),c.iconPath={light:o.Uri.file((0,n.join)(e.extensionPath,"assets","nx-console-light.svg")),dark:o.Uri.file((0,n.join)(e.extensionPath,"assets","nx-console-dark.svg"))},d(c,e,t),e.extensionMode===o.ExtensionMode.Development&&(0,i.watch)((0,n.join)(e.extensionPath,"assets","public","main.js"),(()=>{c&&(d(c,e,t),o.commands.executeCommand("workbench.action.webview.reloadWebviewAction"))})),c.webview.onDidReceiveMessage((e=>s.executeTask(e)))),(0,a.getTelemetry)().screenViewed(r),c}function d(e,t,r){e.webview.html=u(e.webview,t,r)}function u(e,t,r){const n=o.Uri.joinPath(t.extensionUri,"assets","public","styles.css"),a=o.Uri.joinPath(t.extensionUri,"assets","public","runtime.js"),s=o.Uri.joinPath(t.extensionUri,"assets","public","main.js");return`<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>VscodeUi</title>\n    <base href="/" />\n\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n\n    <script>\n      // At runtime, VSCode server will replace this empty schema with the one to render.\n      window.VSCODE_UI_SCHEMA = {};\n\n      window.addEventListener('message', event => {\n        const taskExecutionSchema = event.data.taskExecutionSchema;\n        if (taskExecutionSchema && window.SET_TASK_EXECUTION_SCHEMA) {\n          window.SET_TASK_EXECUTION_SCHEMA(taskExecutionSchema);\n        }\n      });\n\n      window.vscode = acquireVsCodeApi();\n    <\/script>\n    <link href="${e.asWebviewUri(n)}" rel="stylesheet"/>\n  </head>\n  <body>\n    <vscode-ui-task-execution-form></vscode-ui-task-execution-form>\n    <script src="${e.asWebviewUri(a)}"><\/script>\n    <script src="${e.asWebviewUri(s)}"><\/script>\n  </body>\n</html>`.replace("window.VSCODE_UI_SCHEMA = {};",`window.VSCODE_UI_SCHEMA = ${JSON.stringify(r)};`)}t.revealWebViewPanel=async function({context:e,cliTaskProvider:t,runTargetTreeItem:r,runTargetTreeView:n,contextMenuUri:o,generator:a}){const{label:i,generatorType:c}=r,d=await(0,s.getTaskExecutionSchema)(t,i,o,c,a);if(!d)return;const u=l(e,d,i,t);return e.subscriptions.push(u),u.onDidChangeViewState((e=>{e.webviewPanel.visible&&r.revealWorkspaceRoute(n)})),u},t.createWebViewPanel=l,t.getIframeHtml=u},55817:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=55817,e.exports=t},99704:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=99704,e.exports=t},3833:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3833,e.exports=t},54229:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=54229,e.exports=t},13411:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=13411,e.exports=t},38736:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=38736,e.exports=t},61201:e=>{"use strict";e.exports=require("@yarnpkg/fslib")},16541:e=>{"use strict";e.exports=require("@yarnpkg/libzip")},79816:e=>{"use strict";e.exports=require("jsonc-parser")},89496:e=>{"use strict";e.exports=require("vscode")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},31405:e=>{"use strict";e.exports=require("inspector")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},14521:e=>{"use strict";e.exports=require("readline")},38102:e=>{"use strict";e.exports=require("repl")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},84655:e=>{"use strict";e.exports=require("v8")},26144:e=>{"use strict";e.exports=require("vm")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=n,a.c=o,a.x=()=>{var e=a.O(void 0,[242],(()=>a(a.s=69218)));return a.O(e)},e=[],a.O=(t,r,n,o)=>{if(!r){var s=1/0;for(d=0;d<e.length;d++){for(var[r,n,o]=e[d],i=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>e+".js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r={179:1},a.O.require=e=>r[e],a.f.require=(e,t)=>{r[e]||(e=>{var t=e.modules,n=e.ids,o=e.runtime;for(var s in t)a.o(t,s)&&(a.m[s]=t[s]);o&&o(a);for(var i=0;i<n.length;i++)r[n[i]]=1;a.O()})(require("./"+a.u(e)))},t=a.x,a.x=()=>(a.e(242),t());var s=a.x(),i=exports;for(var c in s)i[c]=s[c];s.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();